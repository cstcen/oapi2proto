# OpenAPI v3 -> Proto3 Minimal Generator

Purpose: Convert a subset of OpenAPI 3.0 schemas under `components.schemas` into a starting `.proto` file for further manual refinement.

Status: MVP (supports objects, enums, arrays, maps, oneOf (as oneof), allOf (merge), primitive formats, $ref resolution).

## Usage

```bash
# build
go build -o oapi2proto ./cmd/oapi2proto

# generate
./oapi2proto -in openapi.yaml -out api.proto -pkg api.v1 -go_pkg example.com/project/api/v1;v1
```

## Scope & Limitations

- Only processes `components.schemas`; paths -> service rpc generation not yet included.
- anyOf: treated like oneOf unless `--anyof=repeat` specified.
- Field numbering: stable by iteration order (refs resolved first), or alphabetical if `--sort`.
- Nullable: renders as `optional` for scalars if `--use-optional`; otherwise comment.
- Map detection: `type: object` with only `additionalProperties`.
- Does not yet deduplicate identical inline schemas.

## Next Steps

- Generate services from `paths`.
- Add HTTP annotations (google.api.http) optionally.
- Wrapper types for nullable.
- Deterministic field number registry file.
